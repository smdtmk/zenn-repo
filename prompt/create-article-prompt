# AWS CLIでのMFA設定記事作成プロンプト

## 記事の目的
AWS CLIでのMFA（多要素認証）の設定と使用方法について、初心者でも理解できる実践的なガイドを作成する。

## 記事の構成要素

### 1. メタ情報
- タイトル：「【AWS CLI】MFA認証を完全解説！セキュアなAWS運用の第一歩」
- 絵文字：🔐
- タイプ：tech
- トピック：aws, awscli, iam, security, mfa
- 想定読者レベル：初級〜中級
- 想定読了時間：15分

### 2. 記事の構成
1. はじめに
   - MFAの重要性
   - AWS CLIでMFAを使用するメリット
   - よくある課題や悩み

2. MFAの基本概念
   - MFAとは何か
   - AWSでのMFAの種類（仮想MFA、ハードウェアMFA）
   - AWS CLIでMFAが必要なケース

3. MFAデバイスの設定手順
   - IAMコンソールでのMFAデバイス登録
   - Google AuthenticatorなどのMFAアプリの設定
   - AWS CLIの設定ファイル（~/.aws/credentials, ~/.aws/config）の更新

4. AWS CLIでのMFA使用方法
   - get-session-tokenの使用方法
   - 一時的な認証情報の取得と使用
   - プロファイルの切り替え方
   - MFAトークンの入力タイミング

5. ベストプラクティス
   - セキュリティ設定のポイント
   - トークンの有効期限管理
   - 自動化スクリプトでのMFA対応

6. トラブルシューティング
   - よくあるエラーと解決方法
   - MFAトークンが無効な場合の対処
   - セッション期限切れの対応

### 3. 重視すべきポイント
- 実践的なコマンド例を多く含める
- セキュリティのベストプラクティスを強調
- 具体的なユースケースを提示
- トラブルシューティングの実例を含める

### 4. コード例のテーマ
1. MFA設定の基本的なコマンド
```bash
aws sts get-session-token \
  --serial-number arn:aws:iam::123456789012:mfa/user.name \
  --token-code 123456
```

2. 一時的な認証情報の設定
```bash
export AWS_ACCESS_KEY_ID=temporary_access_key
export AWS_SECRET_ACCESS_KEY=temporary_secret_key
export AWS_SESSION_TOKEN=temporary_session_token
```

3. プロファイル設定例
```ini
[profile mfa-user]
mfa_serial = arn:aws:iam::123456789012:mfa/user.name
```

### 5. 注意点
- セキュリティに関する記述は正確に
- AWS公式ドキュメントと整合性を保つ
- MFAデバイスの実際の画像は含めない
- 機密情報（ARN等）はダミー値を使用

### 6. 参考にすべき資料
- AWS公式ドキュメント（IAM、STS関連）
- AWS CLIのコマンドリファレンス
- AWS セキュリティのベストプラクティス

## 記事のトーン
- 初心者にも分かりやすい説明
- 実践的で具体的な例を多用
- セキュリティの重要性を強調
- 読者の疑問に先回りした解説

## 期待される成果
- AWS CLIでのMFA設定方法の理解
- セキュアなAWS運用の基礎知識の習得
- トラブルシューティング能力の向上
- AWS CLIの実践的な使用方法の習得 